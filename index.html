<html>
    <head>
        <script src="https://apis.google.com/js/platform.js" async defer></script>
        <meta name="google-signin-client_id" content="1012539162385-1odn45jh5uda43d3sb2q39bomr6dt97a.apps.googleusercontent.com">

        <script>
            function onSignIn(googleUser) {
                var profile = googleUser.getBasicProfile();

                window.user_picture.src = profile.getImageUrl();
                window.user_id.innerText = profile.getId();
                window.user_name.innerText = profile.getName();
                window.email.innerText = profile.getEmail();
                window.user_id_token.innerText = googleUser.getAuthResponse().id_token;

              console.log('ID: ' + profile.getId()); // Do not send to your backend! Use an ID token instead.
              console.log('Name: ' + profile.getName());
              console.log('Image URL: ' + profile.getImageUrl());
              console.log('Email: ' + profile.getEmail()); // This is null if the 'email' scope is not present.
            }            
        </script>
    </head>

    <body>
        <b>User-id:</b> <p id="user_id"></p>
        <b>ID Token:</b> <p id="user_id_token"></p>
        <b>Name:</b> <p id="user_name"></p>
        <b>E-mail:</b> <p id="email"></p>
        <b>User Picture:</b> <p><img id="user_picture"/></p>

        <div class="g-signin2" data-onsuccess="onSignIn"></div>

        <h3>Aclaracion acerca de autenticacion en el server</h3>

        <p>no hay que usar el <b>user_id</b> para autenticar al usuario desde el server (ya que estos ids son publicos y pueden ser facilmente obtenidos), hay que usar el <b>ID token</b> que tambien se obtiene en el proceso de login</p>

        <p>El <b>ID token</b> es el que se envia al server, y este a su vez valida con los servicios de google si es valido</p>

        <p>Para mas informacion: <a href="https://developers.google.com/identity/sign-in/web/backend-auth">https://developers.google.com/identity/sign-in/web/backend-auth</a></p>

    </body>
</html>